{"ast":null,"code":"var _jsxFileName = \"/Users/felixyamano/Documents/NEU/CS5610/web-dev-project-repo/detail/WebDev-Final-Project/src/App.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport '../src/vendors/bootstrap/bootstrap-5.1.3-dist/css/bootstrap.min.css';\nimport '../src/vendors/bootstrap/bootstrap-5.1.3-dist/bootstrap.min.css';\nimport '../src/vendors/fontawesome/css/all.min.css';\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\nimport DetailScreen from \"./components/detail-screen\";\nimport reviewsReducer from \"./reducer/reviews-reducer\";\nimport { createStore } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport SearchScreen from \"./component-jihua/SeachPage/SearchScreen\";\nimport React, { useState, useEffect } from 'react';\nimport Cart from './component-jihua/Cart/Cart';\nimport History from './component-jihua/Cart/History';\nimport Ordered from './component-jihua/Cart/Ordered';\nimport Header from './component-jihua/Header/Header';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst store = createStore(reviewsReducer);\n\nfunction App() {\n  _s();\n\n  const storedCart = localStorage.getItem('item');\n  const myarray = JSON.parse(storedCart);\n  console.log('stored cart', storedCart);\n  console.log('parsed cart', myarray);\n  const [cartItems, setCartItems] = useState(myarray);\n  const [orderedItems, setOrderedItems] = useState([]);\n  const [historyItems, setHistoryItems] = useState([]);\n  useEffect(() => {\n    localStorage.setItem('item', JSON.stringify(cartItems));\n  }, [cartItems]);\n  console.log('cart items', cartItems);\n\n  const handleAddProduct = product => {\n    const ProductExist = cartItems.find(item => item.idDrink === product.idDrink);\n\n    if (ProductExist) {\n      setCartItems(cartItems.map(item => item.idDrink === product.idDrink ? { ...ProductExist,\n        quantity: ProductExist.quantity + 1\n      } : item));\n    } else {\n      setCartItems([...cartItems, { ...product,\n        quantity: 1\n      }]);\n    }\n  };\n\n  console.log('app', cartItems);\n\n  const handleRemoveProduct = product => {\n    const ProductExist = cartItems.find(item => item.idDrink === product.idDrink);\n\n    if (ProductExist.quantity === 1) {\n      setCartItems(cartItems.filter(item => item.idDrink !== product.idDrink));\n    } else {\n      setCartItems(cartItems.map(item => item.idDrink === product.idDrink ? { ...ProductExist,\n        quantity: ProductExist.quantity - 1\n      } : item));\n    }\n  };\n\n  const email = \"felix@gmail.com\";\n\n  const onSubmitOrder = () => {\n    axios.post('http://localhost:4000/order', {\n      cartItems: cartItems,\n      email: email\n    }).then(user => {\n      console.log('user data', user.data);\n      setOrderedItems(user.data);\n      console.log('ordered items', orderedItems);\n    });\n  };\n\n  const getCartItems = () => {\n    axios.get('http://localhost:4000/cartitems').then(response => {\n      console.log(response.data);\n      setHistoryItems(response.data);\n      console.log('history items', historyItems);\n    }).catch(error => {\n      console.log(error);\n      alert(error.response.data);\n    });\n  };\n\n  const handleCartClearance = () => {\n    setCartItems([]);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Provider, {\n    store: store,\n    children: /*#__PURE__*/_jsxDEV(BrowserRouter, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(Header, {\n          cartItems: cartItems\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Routes, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/search/\",\n            element: /*#__PURE__*/_jsxDEV(SearchScreen, {\n              handleAddProduct: handleAddProduct\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/search/:cocktailSearch\",\n            element: /*#__PURE__*/_jsxDEV(SearchScreen, {\n              handleAddProduct: handleAddProduct\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/detail/:imdbID\",\n            exact: true,\n            element: /*#__PURE__*/_jsxDEV(DetailScreen, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 77\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"cart\",\n            element: /*#__PURE__*/_jsxDEV(Cart, {\n              cartItems: cartItems,\n              handleAddProduct: handleAddProduct,\n              handleRemoveProduct: handleRemoveProduct,\n              handleCartClearance: handleCartClearance,\n              onSubmitOrder: onSubmitOrder\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 53\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"history\",\n            element: /*#__PURE__*/_jsxDEV(History, {\n              historyItems: historyItems,\n              getCartItems: getCartItems\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 56\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"ordered\",\n            element: /*#__PURE__*/_jsxDEV(Ordered, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 56\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 9\n  }, this);\n}\n\n_s(App, \"2NJ0m1ohwzHfMXUcxhiio56MAeM=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/felixyamano/Documents/NEU/CS5610/web-dev-project-repo/detail/WebDev-Final-Project/src/App.js"],"names":["BrowserRouter","Route","Routes","DetailScreen","reviewsReducer","createStore","Provider","SearchScreen","React","useState","useEffect","Cart","History","Ordered","Header","axios","store","App","storedCart","localStorage","getItem","myarray","JSON","parse","console","log","cartItems","setCartItems","orderedItems","setOrderedItems","historyItems","setHistoryItems","setItem","stringify","handleAddProduct","product","ProductExist","find","item","idDrink","map","quantity","handleRemoveProduct","filter","email","onSubmitOrder","post","then","user","data","getCartItems","get","response","catch","error","alert","handleCartClearance"],"mappings":"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","sourcesContent":["import './App.css';\nimport '../src/vendors/bootstrap/bootstrap-5.1.3-dist/css/bootstrap.min.css';\nimport '../src/vendors/bootstrap/bootstrap-5.1.3-dist/bootstrap.min.css';\nimport '../src/vendors/fontawesome/css/all.min.css';\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\nimport DetailScreen from \"./components/detail-screen\";\nimport reviewsReducer from \"./reducer/reviews-reducer\";\nimport { createStore } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport SearchScreen from \"./component-jihua/SeachPage/SearchScreen\";\nimport React, { useState, useEffect } from 'react';\nimport Cart from './component-jihua/Cart/Cart';\nimport History from './component-jihua/Cart/History';\nimport Ordered from './component-jihua/Cart/Ordered';\nimport Header from './component-jihua/Header/Header';\n\nimport axios from 'axios';\n\nconst store = createStore(reviewsReducer);\n\nfunction App() {\n\n    const storedCart = localStorage.getItem('item');\n    const myarray = JSON.parse(storedCart);\n    console.log('stored cart', storedCart);\n    console.log('parsed cart', myarray);\n\n    const [cartItems, setCartItems] = useState(myarray);\n    const [orderedItems, setOrderedItems] = useState([]);\n    const [historyItems, setHistoryItems] = useState([]);\n\n    useEffect(() => {\n        localStorage.setItem('item', JSON.stringify(cartItems));\n    }, [cartItems]);\n\n    console.log('cart items', cartItems)\n    const handleAddProduct = (product) => {\n        const ProductExist = cartItems.find((item) => item.idDrink === product.idDrink);\n        if (ProductExist) {\n            setCartItems(cartItems.map((item) => item.idDrink === product.idDrink ?\n                { ...ProductExist, quantity: ProductExist.quantity + 1 } : item));\n\n        } else {\n            setCartItems([...cartItems, { ...product, quantity: 1 }]);\n        }\n    }\n\n    console.log('app', cartItems);\n\n    const handleRemoveProduct = (product) => {\n        const ProductExist = cartItems.find((item) => item.idDrink === product.idDrink);\n        if (ProductExist.quantity === 1) {\n            setCartItems(cartItems.filter((item) => item.idDrink !== product.idDrink));\n        } else {\n            setCartItems(\n                cartItems.map((item) => item.idDrink === product.idDrink\n                    ? { ...ProductExist, quantity: ProductExist.quantity - 1 }\n                    : item)\n            )\n        }\n    }\n\n    const email = \"felix@gmail.com\";\n\n    const onSubmitOrder = () => {\n        axios.post('http://localhost:4000/order', {\n            cartItems: cartItems,\n            email: email\n        })\n            .then(user => {\n                console.log('user data', user.data);\n                setOrderedItems(user.data);\n                console.log('ordered items', orderedItems);\n            })\n\n    }\n    const getCartItems = () => {\n        axios.get('http://localhost:4000/cartitems')\n            .then(response => {\n                console.log(response.data)\n                setHistoryItems(response.data);\n                console.log('history items', historyItems);\n            })\n            .catch(error => { \n                console.log(error) \n                alert(error.response.data);\n            })\n    }\n\n    const handleCartClearance = () => {\n        setCartItems([]);\n    }\n\n    return (\n        <Provider store={store}>\n\n            <BrowserRouter>\n                <div className=\"container\">\n                <Header cartItems={cartItems} />\n                    <Routes>\n                        <Route path=\"/search/\"\n                            element={<SearchScreen handleAddProduct={handleAddProduct} />} />\n                        <Route path=\"/search/:cocktailSearch\"\n                            element={<SearchScreen handleAddProduct={handleAddProduct} />} />\n                        <Route path=\"/detail/:imdbID\" exact={true} element={<DetailScreen />} />\n                        <Route path=\"cart\" element={<Cart cartItems={cartItems} handleAddProduct={handleAddProduct} handleRemoveProduct={handleRemoveProduct} handleCartClearance={handleCartClearance} onSubmitOrder={onSubmitOrder} />} />\n                        <Route path=\"history\" element={<History historyItems={historyItems} getCartItems={getCartItems} />} />\n                        <Route path=\"ordered\" element={<Ordered />} />\n                    </Routes>\n                </div>\n            </BrowserRouter>\n\n        </Provider>\n\n    );\n}\n\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}